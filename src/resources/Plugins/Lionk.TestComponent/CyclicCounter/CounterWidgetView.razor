@using Lionk.Core
@using Lionk.Core.View
@using Lionk.TestCyclicComponent
@using MudBlazor
@using System.ComponentModel

@attribute [ViewOf("Counter view", typeof(Counter), typeof(CounterWidgetView), ViewContext.Widget)]

<MudText Typo="Typo.h6">Counter: @Component.CounterValue</MudText>

@code {
    [Parameter] public Counter Component { get; set; }

    protected override void OnInitialized()
    {
        Component.PropertyChanged += ModelChange;
    }

    private void ModelChange(object? sender, PropertyChangedEventArgs e)
    {
        InvokeAsync(StateHasChanged);
    }
}
