@inject NavigationManager NavManager

<MudGrid>
    <MudItem xs="12" sm="12">
        <MudPaper Class="pa-4">
            <MudTextField @bind-Value="Email" Label="Email" Required="true" InputType="InputType.Email" Class="mb-2" />
            <MudTextField @bind-Value="Password" Label="Password" Required="true" InputType="InputType.Password" Class="mb-2" />
            <div style="display: flex; justify-content: flex-end; margin-top: 20px;">
                <MudButton Color="Color.Primary" Variant="Variant.Filled" OnClick="HandleValidSubmit">Login</MudButton>
            </div>
            <MudText Color="Color.Error" Typo="Typo.caption" Align="Align.Left">@ErrorMessage</MudText>
        </MudPaper>
    </MudItem>
</MudGrid>

@code {
    public string? Email { get; set; }
    public string? Password { get; set; }
    public string? ErrorMessage { get; set; }

    private void HandleValidSubmit()
    {
        if (Email == "toto" && Password == "toto")
        {
            NavManager.NavigateTo("/");
        }
        else
        {
            ErrorMessage = "Wrong mail or password";
        }
    }
}
