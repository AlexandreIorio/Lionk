@page "/overview"
@using Lionk.Auth.Identity
@inject UserAuthenticationStateProvider AuthStateProvider

<MudGrid>
    <MudItem>
        <MudCard Style="width: 600px">
            <MudCardContent>
                <MudTextField T="string" Label="Username" Text="@UserName" ReadOnly="true"/>
            </MudCardContent>
            <MudCardContent>
                <MudTextField T="string" Label="Email" Text="@Email" ReadOnly="true" Class="mt-3"/>
            </MudCardContent>
        </MudCard>
    </MudItem>
</MudGrid>


@code {
    /// <summary>
    /// The current username.
    /// </summary>
    public string UserName { get; set; } = string.Empty;

    /// <summary>
    /// The current email.
    /// </summary>
    public string Email = string.Empty;

    /// <inheritdoc />
    protected override void OnInitialized()
    {
        base.OnInitialized();
        UserName = AuthStateProvider.CurrentUser?.Username ?? "Not Logged In";
        Email = AuthStateProvider.CurrentUser?.Email ?? "Not Logged In";
    }

}