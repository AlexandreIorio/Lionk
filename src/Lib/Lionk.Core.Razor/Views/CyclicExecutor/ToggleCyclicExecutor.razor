@using Lionk.Core.Component.Cyclic
@inject ICyclicExecutorService CyclicExecutorService
<link href="_content/Lionk.Core.Razor/css/CyclicExecutor.css" rel="stylesheet" />

<MudIconButton Icon="@GetButtonIcon()" Color="Color.Info" OnClick="TogglePauseResume" />

@code {
    private void TogglePauseResume()
    {
        if (CyclicExecutorService.State == CycleState.Running)
        {
            CyclicExecutorService.Pause();
        }
        else if (CyclicExecutorService.State == CycleState.Paused)
        {
            CyclicExecutorService.Resume();
        }
    }

    private string GetButtonIcon()
    {
        return CyclicExecutorService.State == CycleState.Running ? Icons.Material.Filled.Pause : Icons.Material.Filled.PlayArrow;
    }
}